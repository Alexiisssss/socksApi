**Проект: REST API для учёта носок на складе**

**Описание проекта**

Этот проект представляет собой REST API для учёта носок на складе магазина. API позволяет управлять приходом и отпуском носок, а также предоставляет возможность фильтровать и обновлять данные о носках на складе. 

В проекте реализованы следующие функциональные возможности:

Регистрация прихода носков — добавление носок на склад.

Регистрация отпуска носков — списание носок со склада.

Получение общего количества носок с фильтрацией — запрос носок с возможностью фильтрации по цвету и процентному содержанию хлопка.

Обновление данных носков — возможность изменения данных о носках, таких как цвет, процент хлопка и количество.

Загрузка партий носок — загрузка носок в базу данных из файла Excel или CSV.

Дополнительно реализована документация с использованием Swagger/OpenAPI для удобного взаимодействия с API, централизованная обработка ошибок и логирование всех операций.

**Используемые технологии**

Java 17 — язык программирования для разработки API.

Spring Boot 2.7 — фреймворк для создания RESTful сервисов.

PostgreSQL — база данных для хранения информации о носках.

Gradle — система сборки.

Swagger/OpenAPI — для автоматической генерации документации API.

SLF4J — для логирования операций.

JUnit — для тестирования.

Spring Data JPA — для работы с базой данных.

Apache POI / OpenCSV — для обработки файлов Excel и CSV.

**Структура проекта**

*Проект состоит из нескольких ключевых пакетов:*

controller — контроллеры, обрабатывающие HTTP-запросы.

service — сервисы, реализующие бизнес-логику.

entity — сущности для работы с базой данных.

exception — классы для обработки ошибок.

config — конфигурационные файлы, например, для Swagger.

**Функционал**

*1. Регистрация прихода носков*

POST /api/socks/income

Принимает JSON объект с параметрами:

color — цвет носков (строка).

cottonPercentage — процентное содержание хлопка (целое число).

quantity — количество носок (целое число).

Пример:


{
  "color": "Red",
  "cottonPercentage": 80,
  "quantity": 100
}


*2. Регистрация отпуска носков*
   
POST /api/socks/outcome

Принимает параметры через запрос:

color — цвет носков.

cottonPercentage — процент хлопка.

quantity — количество носок.

Пример:


POST /api/socks/outcome?color=Red&cottonPercentage=80&quantity=50


*3. Получение носков с фильтрацией*
   
GET /api/socks

Позволяет получить список носок с фильтрацией:

color — цвет носков.

minCotton — минимальное содержание хлопка.

maxCotton — максимальное содержание хлопка.

sortBy — сортировка (по умолчанию по цвету).

Пример:


GET /api/socks?color=Red&minCotton=50&maxCotton=100&sortBy=cottonPercentage


*4. Обновление данных носков*
   
PUT /api/socks/{id}

Позволяет обновить данные носок по идентификатору.

Параметры: color, cottonPercentage, quantity.

Пример:


{
  "color": "Blue",
  "cottonPercentage": 75,
  "quantity": 120
}


*5. Загрузка партии носков из файла*
 
POST /api/socks/batch

Загружает носки из CSV или Excel файла.


Пример:


POST /api/socks/batch?file=path/to/file.csv


**Тестирование**

Проект имеет тесты для проверки работы всех ключевых операций. Для тестирования используются библиотеки JUnit и Mockito.


**Запуск проекта**

*1. Установка зависимостей*
   
Для начала работы необходимо скачать и установить все зависимости с помощью Gradle:

./gradlew build

*2. Запуск базы данных*
   
Используется PostgreSQL. Создайте базу данных socksdb на вашем сервере PostgreSQL или используйте локальную копию.

*3. Конфигурация приложения*
   
В файле application.properties указаны настройки для подключения к базе данных PostgreSQL.

*4. Запуск приложения*
   
Для запуска приложения используйте команду:

./gradlew bootRun

*5. Доступ к API*

После запуска приложение будет доступно по адресу: http://localhost:8080

Swagger UI будет доступен по адресу: http://localhost:8080/swagger-ui

Документация Swagger UI доступна по адресу: http://localhost:8080/v3/api-docs


**Логирование**

Все операции в API логируются с использованием SLF4J, что позволяет отслеживать важные действия, такие как приход, отпуск, загрузка партий и ошибки.

**Ошибки и обработка**

В проекте реализована централизованная обработка ошибок с использованием аннотации @ControllerAdvice. Сообщения об ошибках возвращаются в формате:
